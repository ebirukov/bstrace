bstrace (BPF syscall trace) - утилита для логирования системных вызовов

# Concept

Основной замысел - отслеживание системных вызовов пользовательских процессов на стороне ядра,
используя технологию [ebpf](https://ebpf.io/)

## Реализации и преимущества подхода

### Концепт
Основная ebpf C-программа типа [BPF_PROG_TYPE_RAW_TRACEPOINT](https://docs.ebpf.io/linux/program-type/BPF_PROG_TYPE_RAW_TRACEPOINT) подключается к [точке трассировки ядра](https://docs.ebpf.io/linux/program-type/BPF_PROG_TYPE_RAW_TRACEPOINT),
отслеживающим системные вызовы из пользовательских процессов, собирает данные о деталях вызовов на стороне ядра,
и передает их в пространство пользователя для форматированного вывода.

Основная программа через вспомогательную [функцию](https://docs.ebpf.io/linux/helper-function/bpf_tail_call/) использует механизм хвостовых вызовов ebpf
для реализации логики парсеров конкретных системных вызовов

Приложение в пользовательском пространстве реализовано на go с использованием [cilium/ebpf](https://github.com/cilium/ebpf).
Приложение конфигурирует и загружает ebpf программы ядра и читает данных из пространства пользователя через [ringbuffer](https://docs.ebpf.io/linux/map-type/BPF_MAP_TYPE_RINGBUF/)


### Преимущества написания ebpf программ на C

Верификатор ebpf позволяет избежать основных сложностей при написании программ на C,
таких как разыменование нулевых указателей, сложность работы с памятью и т.п.
При этом доступны все структуры данных ядра. Библиотека [libbpf](https://docs.ebpf.io/ebpf-library/libbpf/ebpf/)
предоставляет макросы и вспомогательные функции для удобства написания переносимых между архитектурами и версиями ядер программ.

